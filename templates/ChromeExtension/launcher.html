<!DOCTYPE html>
<html>
<body>
<script>
// This will trigger the native host immediately when loaded
chrome.runtime.sendNativeMessage(
    'com.simplify.server_launcher',
    { command: 'start_server' },
    function(response) {
        if (!response || !response.success) {
            console.error('Failed to start server:', response?.error);
            window.close(); // Close this tab if failed
        } else {
            // Redirect to the Flask app once server is ready
            window.location.href = 'http://127.0.0.1:5000';
        }
    }
);
</script>
</body>
</html>